<header data-ng-init="initSuggestions();" class="intro-header" style="background-image: url('images/suggestions-bg2.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="site-heading">
                    <h1>{{area || "Unknown"}}</h1>
                    <hr class="small">
                    <span class="subheading">You are viewing suggestions from your area.</span>
                </div>
            </div>
        </div>
    </div>
</header>

<div class="container suggestion-area">

  <!-- use bootstrap 3 media objects to dispaly suggestions on the page. (load all areas, since area is unknown) -->
  <div data-ng-if="area == null" class="well">
    <div data-ng-repeat="(key,value) in suggestions">

      <div class="row suggestion-block">
        <h2>{{key}}</h2>
      </div>
      <div class="row suggestion-block" data-ng-repeat="(key,value) in suggestions[key]">
        <div class="col-sm-12 col-md-12 col-lg-12">
          <div class="media" >
            <div class="media-left media-top">
              <a>
                <img class="media-object" data-ng-src="{{users[value.name].profileImageURL}}" alt="Display Picture">
              </a>
            </div>
            <div class="media-body">
              <h4 class="media-heading suggestion">{{users[value.name].name}}</h4>
              <p class="suggestion">{{value.text}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- use bootstrap 3 media objects to display suggestions on the page. (when the area is known. ) -->
  <div data-ng-if="area != null" class="well">
    <div class="row suggestion-block" data-ng-repeat="(key,value) in suggestions">
      <div class="col-sm-12 col-md-12 col-lg-12">
        <div class="media" >
          <div class="media-left media-top">
            <a>
              <img class="media-object" data-ng-src="{{users[value.name].profileImageURL}}" alt="Display Picture">
            </a>
          </div>
          <div class="media-body">
            <h4 class="media-heading suggestion">{{users[value.name].name}}</h4>
            <p class="suggestion">{{value.text}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- this is a form which will be used to submit a suggestion -->
  <form class="form-horizontal">
    <fieldset>
      <!-- Textarea -->
      <div class="form-group">
        <div class="col-md-12">
          <textarea ng-model="suggestion" class="form-control" id="suggestion" name="suggestion">Enter your suggestion on how to hanlde organized crime and gangs in your area. </textarea>
        </div>
      </div>
      <!-- Button -->
      <div class="form-group">
        <div class="col-md-12">
          <button id="post" name="post" class="btn btn-primary btn-lg" data-ng-click="postSuggestion();">Post Suggestion</button>
        </div>
      </div>
    </fieldset>
  </form>
</div>
